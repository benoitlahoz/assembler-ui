/* Styles pour les icônes d'édition Leaflet */

/* Base styles - Mobile first (larger touch targets) */
.leaflet-editing-icon {
  margin-left: -8px !important; /* -16px / 2 = -8px for centering */
  margin-top: -8px !important;
  pointer-events: auto !important;
  cursor: move !important;
  /* No transitions for real-time movement */
  transition: none !important;
}

.leaflet-editing-icon div {
  width: 16px !important;
  height: 16px !important;
  border-radius: 50% !important;
  box-shadow:
    0 0 0 2px rgba(0, 0, 0, 0.15),
    0 2px 4px rgba(0, 0, 0, 0.1);
  /* No transitions for immediate response */
  transition: none !important;
}

/* First point marker - larger on mobile */
.leaflet-editing-icon-first {
  margin-left: -10px !important; /* -20px / 2 = -10px for centering */
  margin-top: -10px !important;
  cursor: pointer !important;
  z-index: 1000 !important;
  transition: none !important;
}

.leaflet-editing-icon-first div {
  width: 20px !important;
  height: 20px !important;
  border-radius: 50% !important;
  box-shadow:
    0 0 0 3px rgba(51, 136, 255, 0.3),
    0 2px 6px rgba(0, 0, 0, 0.15);
  transition: none !important;
}

/* Midpoint markers - more visible with stronger styling */
.leaflet-editing-icon-midpoint {
  margin-left: -7px !important; /* -14px / 2 = -7px for centering */
  margin-top: -7px !important;
  pointer-events: auto !important;
  cursor: copy !important;
  transition: none !important;
}

.leaflet-editing-icon-midpoint div {
  width: 14px !important;
  height: 14px !important;
  border-radius: 50% !important;
  opacity: 0.9 !important;
  background: #fff !important;
  border: 2px solid #3388ff !important;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.8),
    0 2px 6px rgba(0, 0, 0, 0.25) !important;
  transition: none !important;
}

/* Center marker for dragging entire shape */
.leaflet-editing-icon-center {
  margin-left: -8px !important; /* -16px / 2 = -8px for centering */
  margin-top: -8px !important;
  pointer-events: auto !important;
  cursor: move !important;
  transition: none !important;
}

.leaflet-editing-icon-center div {
  width: 16px !important;
  height: 16px !important;
  border-radius: 50% !important;
  box-shadow:
    0 0 0 2px rgba(255, 136, 0, 0.3),
    0 2px 6px rgba(0, 0, 0, 0.15);
  transition: none !important;
}

/* Desktop: smaller default sizes with hover effects */
@media (hover: hover) and (pointer: fine) {
  .leaflet-editing-icon {
    margin-left: -4px !important; /* -8px / 2 = -4px for centering */
    margin-top: -4px !important;
    transition: none !important;
  }

  .leaflet-editing-icon div {
    width: 8px !important;
    height: 8px !important;
    transition: none !important;
  }

  .leaflet-editing-icon:hover {
    margin-left: -7px !important; /* -14px / 2 = -7px for centering */
    margin-top: -7px !important;
  }

  .leaflet-editing-icon:hover div {
    width: 14px !important;
    height: 14px !important;
    box-shadow:
      0 0 0 3px rgba(51, 136, 255, 0.3),
      0 2px 6px rgba(0, 0, 0, 0.2);
  }

  .leaflet-editing-icon-first {
    margin-left: -6px !important; /* -12px / 2 = -6px for centering */
    margin-top: -6px !important;
    transition: none !important;
  }

  .leaflet-editing-icon-first div {
    width: 12px !important;
    height: 12px !important;
    transition: none !important;
  }

  .leaflet-editing-icon-first:hover {
    margin-left: -9px !important; /* -18px / 2 = -9px for centering */
    margin-top: -9px !important;
  }

  .leaflet-editing-icon-first:hover div {
    width: 18px !important;
    height: 18px !important;
    box-shadow:
      0 0 0 4px rgba(51, 136, 255, 0.5),
      0 3px 8px rgba(0, 0, 0, 0.25);
  }

  .leaflet-editing-icon-midpoint {
    margin-left: -4px !important; /* -8px / 2 = -4px for centering */
    margin-top: -4px !important;
    transition: none !important;
  }

  .leaflet-editing-icon-midpoint div {
    width: 8px !important;
    height: 8px !important;
    opacity: 0.8 !important;
    transition: none !important;
  }

  .leaflet-editing-icon-midpoint:hover {
    margin-left: -6px !important; /* -12px / 2 = -6px for centering */
    margin-top: -6px !important;
  }

  .leaflet-editing-icon-midpoint:hover div {
    width: 12px !important;
    height: 12px !important;
    opacity: 1 !important;
    box-shadow:
      0 0 0 2px rgba(255, 255, 255, 0.9),
      0 0 0 4px rgba(51, 136, 255, 0.5),
      0 2px 6px rgba(0, 0, 0, 0.3) !important;
  }

  .leaflet-editing-icon-center {
    margin-left: -5px !important; /* -10px / 2 = -5px for centering */
    margin-top: -5px !important;
    transition: none !important;
  }

  .leaflet-editing-icon-center div {
    width: 10px !important;
    height: 10px !important;
    transition: none !important;
  }

  .leaflet-editing-icon-center:hover {
    margin-left: -8px !important; /* -16px / 2 = -8px for centering */
    margin-top: -8px !important;
  }

  .leaflet-editing-icon-center:hover div {
    width: 16px !important;
    height: 16px !important;
    box-shadow:
      0 0 0 3px rgba(255, 136, 0, 0.5),
      0 3px 8px rgba(0, 0, 0, 0.25);
  }
}

/* Active/dragging state - enhanced visual feedback */
.leaflet-editing-icon.leaflet-dragging div,
.leaflet-editing-icon-first.leaflet-dragging div,
.leaflet-editing-icon-center.leaflet-dragging div,
.leaflet-editing-icon-midpoint.leaflet-dragging div {
  box-shadow:
    0 0 0 4px rgba(51, 136, 255, 0.6),
    0 4px 12px rgba(0, 0, 0, 0.3) !important;
}
